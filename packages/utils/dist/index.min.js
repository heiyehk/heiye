!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).hyjs={})}(this,(function(e){"use strict";var n=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,u)}c((r=r.apply(e,n||[])).next())}))},t=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},r=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},i=function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){n(e.currentTarget.result)},r.onerror=function(e){return t(e)}}))};e.compressImage=function(e,r){return void 0===r&&(r=.8),n(void 0,void 0,void 0,(function(){var n;return t(this,(function(t){switch(t.label){case 0:return[4,i(e)];case 1:return n=t.sent(),[2,new Promise((function(e,t){var o=new Image;o.src=n,o.onload=function(n){console.log(n);var t=n.path[0],o=t.width,i=t.height,a=document.createElement("canvas"),u=a.getContext("2d");a.width=o,a.height=i,null==u||u.clearRect(0,0,o,i),null==u||u.drawImage(t,0,0,o,i),a.toBlob((function(n){e(n)}),"image/jpeg",r)},o.onerror=function(e){return t(e)}}))]}}))}))},e.convertBase64UrlToBlob=function(e,n,t){for(var r=e.split(","),o=r[0].match(/:(.*?);/)[1],i=atob(r[1]),a=i.length,u=new Uint8Array(a);a--;)u[a]=i.charCodeAt(a);return"file"===n&&t?new File([u],t,{type:o}):new Blob([u],{type:o})},e.convertCurrency=function(e){var n,t,r,o=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],i=["","拾","佰","仟"],a=["","万","亿","兆"],u=["角","分","毫","厘"],c="";if(!e)return"";if((e=parseFloat(e))>=1e15)return"";if(0==e)return c=o[0]+"元整";if(-1==(e=e.toString()).indexOf(".")?(n=e,t=""):(n=(r=e.split("."))[0],t=r[1].substr(0,4)),parseInt(n,10)>0){for(var l=0,f=n.length,s=0;s<f;s++){var d=f-s-1,h=d/4,v=d%4;"0"==(b=n.substr(s,1))?l++:(l>0&&(c+=o[0]),l=0,c+=o[parseInt(b)]+i[v]),0==v&&l<4&&(c+=a[h])}c+="元"}if(""!=t){var p=t.length;for(s=0;s<p;s++){var b;"0"!=(b=t.substr(s,1))&&(c+=o[Number(b)]+u[s])}}return""==c?c+=o[0]+"元整":""==t&&(c+="整"),c},e.debounce=function(e,n){var t=this;void 0===n&&(n=1e3);var r=null;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r&&clearTimeout(r),r=setTimeout((function(){e.apply(t,o)}),n)}},e.downloadFile=function(e,n,t){void 0===t&&(t="download");var r=new Blob([e],{type:n}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=t,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),i=null,window.URL.revokeObjectURL(o)},e.fileReaderToBase64=i,e.filterParamsEmpty=function(e,n){var t,o,i={};try{for(var a=r(Object.keys(e)),u=a.next();!u.done;u=a.next()){var c=u.value;n?n.includes(e[c])||(i[c]=e[c]):""!==e[c]&&void 0!==e[c]&&null!==e[c]&&(i[c]=e[c])}}catch(e){t={error:e}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}return i},e.getAccessType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e.getDevice=function(){var e,n,t,r=navigator.userAgent.toLowerCase();return(null===(e=r.match(/iPhone\sOS/i))||void 0===e?void 0:e.includes("iphone os"))||(null===(n=r.match(/iPad/i))||void 0===n?void 0:n.includes("ipad"))?"iOS":(null===(t=r.match(/Android/i))||void 0===t?void 0:t.includes("android"))?"Android":"Web"},e.getVideoDuration=function(e){return new Promise((function(n){var t,r=URL.createObjectURL(e),o=new Audio(r);t=o.addEventListener("loadedmetadata",(function(){n(o.duration),o.removeEventListener("loadedmetadata",t)}))}))},e.ieIE=function(){return navigator.userAgent.toLowerCase().indexOf("trident")>-1},e.isPC=function(){return!!["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"].filter((function(e){return navigator.userAgent.includes(e)})).length},e.numberToChinese=function(e){for(var n=["零","一","二","三","四","五","六","七","八","九","十"],t=["","十","百","仟","萬","億","点",""],r=String(e).replace(/(^0*)/g,"").split("."),o=0,i="",a=r[0].length-1;a>=0;a--){switch(o){case 0:i=t[7]+i;break;case 4:new RegExp("0{4}//d{"+(r[0].length-a-1)+"}$").test(r[0])||(i=t[4]+i);break;case 8:i=t[5]+i,t[7]=t[5],o=0}o%4==2&&"0"!==r[0].charAt(a+2)&&"0"==r[0].charAt(a+1)&&(i=n[0]+i),"0"!==r[0].charAt(a)&&(i=n[Number(r[0].charAt(a))]+t[o%4]+i),o++}if(r.length>1){i+=t[6];for(var u=0;u<r[1].length;u++)i+=n[Number(r[1].charAt(u))]}return"一十"===i&&(i="十"),i.match(/^一/)&&3===i.length&&(i=i.replace("一","")),i},e.randomCode=o,e.randomNumber=function(e,n){return void 0===e&&(e=0),Math.floor(Math.random()*(n-e+1))+e},e.sleep=function(e){return void 0===e&&(e=0),new Promise((function(n){return setTimeout((function(){return n()}),e)}))},e.throttle=function(e,n){var t=this;void 0===n&&(n=500);var r=!0;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r&&(r=!1,setTimeout((function(){e.apply(t,o),r=!0}),n))}},e.toHump=function(e){return e.replace(/_(\w)/g,(function(e,n){return n.toUpperCase()}))},e.toLine=function(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()},e.uuid=function(){return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()},Object.defineProperty(e,"__esModule",{value:!0})}));
